# Журнал изменений MVP Платформы для Предпринимателей

Все значимые изменения в проекте будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект придерживается [Семантического Версионирования](https://semver.org/spec/v2.0.0.html).

## [Нереализовано]

### Добавлено
- Инициализация проекта на основе технического задания
- Создание документации по архитектуре
- Создание документации по инфраструктуре
- Добавлена документация по техническому стеку
- Добавлена документация по API и интеграциям
- Добавлена документация по схеме базы данных
- Создан README.md с описанием проекта и структуры документации
- Добавлена ссылка на журнал изменений (changelog.md) в документацию README.md

## [0.7.0] - 2025-05-15

### Добавлено
- Реализована утилита для API запросов с автоматическим обновлением токена
- Добавлена обработка ошибок аутентификации при запросах к API
- Реализовано сохранение токенов в cookie для работы middleware
- Обновлены страницы аутентификации для использования новой API утилиты
- Добавлена функция обновления данных пользователя в контексте аутентификации

## [0.6.0] - 2025-05-14

### Добавлено
- Реализованы страницы аутентификации: регистрация, вход, восстановление пароля, сброс пароля
- Создан компонент toast для уведомлений с использованием shadcn/ui
- Создана страница профиля пользователя с формами для обновления данных и смены пароля
- Реализована интеграция фронтенда с API аутентификации и управления профилем
- Реализован AuthContext для управления состоянием аутентификации пользователя
- Настроен middleware для защиты роутов, требующих аутентификации
- Создан базовый каркас UI: макет, навигация, заглушки страниц
- Реализованы компоненты Header, Footer и Sidebar
- Обеспечена адаптивность интерфейса для мобильных устройств

## [0.5.2] - 2025-05-13

### Изменено
- Изменены порты для доступа к сервисам: Frontend с 3000 на 5000, Backend с 3001 на 5001
- Создана документация по портам сервисов (Docs/ports.md)
- Обновлены ссылки в документации

## [0.5.1] - 2025-05-13

### Исправлено
- Исправлены ошибки в конфигурации Docker (Dockerfile и docker-compose.yml)
- Обновлены Dockerfile для frontend и backend для лучшей совместимости с Windows
- Исправлена ошибка импорта в auth.controller.ts

## [0.5.0] - 2025-05-12

### Добавлено
- Реализован API для управления профилем пользователя
- Добавлены эндпоинты `/users/me` (GET и PUT) для просмотра и обновления профиля
- Добавлен эндпоинт `/users/me/password` для смены пароля
- Добавлена валидация данных профиля и пароля
- Написаны модульные тесты для функционала управления профилем

## [0.4.0] - 2025-05-12

### Добавлено
- Реализован API для восстановления пароля
- Добавлены эндпоинты `/auth/forgot-password` и `/auth/reset-password`
- Создана логика генерации и проверки токенов сброса пароля
- Добавлены методы в UsersService для работы с токенами сброса пароля
- Написаны модульные тесты для функционала восстановления пароля

## [0.3.0] - 2025-05-11

### Добавлено
- Реализованы модели User и Company в схеме Prisma
- Реализован модуль Auth для аутентификации и авторизации пользователей
- Реализованы стратегии аутентификации: локальная и JWT
- Реализованы эндпоинты для регистрации, логина и обновления токена
- Добавлена валидация входящих данных с помощью class-validator
- Реализован модуль Users для управления пользователями
- Добавлены гарды для защиты эндпоинтов и контроля доступа на основе ролей

## [0.2.0] - 2023-07-15

### Добавлено

- Модуль компаний с возможностью создания и управления компанией
- Модуль сотрудников с возможностью приглашения и управления сотрудниками
- Система ролей и разрешений для разграничения доступа
- Функционал приглашения сотрудников в компанию
- Система проверки и принятия приглашений сотрудниками
- Глобальная защита маршрутов с помощью JWT Guard
- Декоратор Public для публичных маршрутов
- Страница принятия приглашения для сотрудников с формой регистрации
- UI компоненты для форм и интерфейса (Button, Card, Form, Input, Alert)
- Утилита fetchWithAuth для выполнения запросов с авторизацией
- API клиент для работы с эндпоинтами компаний и сотрудников

### Изменено

- Улучшена система аутентификации с использованием глобальных гардов
- Обновлены DTO для валидации данных
- Оптимизирован код контроллеров и сервисов
- Обновлен API клиент для работы с авторизацией и обработкой ошибок
- Улучшен дизайн интерфейса с использованием компонентов shadcn/ui

### Исправлено

- Исправлены ошибки в работе с JWT токенами
- Улучшена обработка ошибок в API
- Удалены лишние файлы из структуры проекта
- Исправлены ошибки типизации в API клиентах

## [0.1.0] - 2025-05-10

### Добавлено
- Создано техническое задание (ТЗ) для MVP
- Разработан план задач для реализации MVP
- Создана базовая структура проекта и документации

## [Нереализованная версия] - 2025-05-11

### Добавлено
- API для управления данными компании:
  - Эндпоинт GET /companies/my для получения данных компании текущего пользователя
  - Эндпоинт PUT /companies/my для обновления данных компании
  - Валидация данных компании (название, ИНН, описание, адрес)
  - Guard для проверки, что пользователь является владельцем компании
  - Unit-тесты для сервиса и контроллера компаний
- API для приглашения и управления сотрудниками компании:
  - Эндпоинт POST /companies/my/employees для приглашения нового сотрудника
  - Эндпоинт GET /companies/my/employees для получения списка сотрудников
  - Эндпоинт DELETE /companies/my/employees/{employeeId} для удаления сотрудника
  - Генерация токена приглашения и логика обработки приглашений
  - Unit-тесты для функционала управления сотрудниками
- Фронтенд-часть для управления компанией и сотрудниками:
  - Страница управления компанией с формой редактирования данных
  - Компонент отображения списка сотрудников
  - Форма приглашения нового сотрудника через модальное окно
  - Интеграция с API для работы с данными компании и сотрудниками
- Базовый каркас UI приложения:
  - Компонент Footer с информацией об авторских правах и ссылками на условия использования
  - Интеграция Footer в RootLayout для отображения на всех страницах
  - Улучшение структуры макета с использованием flex для корректного отображения футера внизу страницы
  - Интеграция Header в RootLayout для отображения на всех страницах приложения
  - Оптимизация DashboardLayout для избежания дублирования Header и Footer компонентов

### Изменено
- Оптимизирован DashboardLayout для избежания дублирования Header и Footer компонентов

### Исправлено
- Исправлены ошибки типизации в бэкенде:
  - Добавлен интерфейс RequestWithUser для типизации запросов с пользователем
  - Исправлены ошибки в guards и контроллерах
  - Добавлен PrismaService для корректной работы с базой данных
  - Исправлены ошибки в тестах
- Исправлены ошибки типизации во фронтенде:
  - Обновлены API клиенты для работы с типизированными данными
  - Исправлены компоненты для работы с новым API
  - Улучшена обработка ошибок
- Выявлены и задокументированы оставшиеся ошибки линтера:
  - Backend: 247 ошибок и 9 предупреждений (в основном связаны с типизацией и безопасностью типов)
  - Frontend: 14 ошибок (неиспользуемые переменные и проблемы с типизацией)

### Удалено

### Примечания
- Спринт 1 полностью завершен. Все задачи выполнены.
- Платформа готова к переходу к Спринту 2: Модуль Управления Запросами и Консьерж-Сервис.
- Произведена итоговая проверка всех задач Спринта 1, включая правильную интеграцию компонентов Header и Footer во все страницы приложения.
- Выполнена проверка и частичное исправление ошибок линтера в проекте. Оставшиеся ошибки задокументированы и будут исправлены в рамках Спринта 2.

### Безопасность 